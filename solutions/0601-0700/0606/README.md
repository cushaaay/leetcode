**(№ 606) Construct String from Binary Tree [easy]**

Дано бинарное дерево root. Нужно вернуть это дерево в виде строки, в которой сначала идет значение узла, а после него в скобках идут дочерние узлы. Если значение узла отсутствует и если это значение стоит на таком месте, что если мы получим строку по правилам выше и сможем по этой строке построить бинарное дерево снова, удалив скобки для этого пустого элемента из строки, тогда скобки для этого элемента можно не писать.

**Решение на JavaScript**

```javascript
var tree2str = function(root) {
  if (!root) return "";

  let result = String(root.val);

  let left = tree2str(root.left);
  let right = tree2str(root.right);

  if (left === "" && right === "") return result;
  if (left === "") return `${result}()(${right})`;
  if (right === "") return `${result}(${left})`;

  return `${result}(${left})(${right})`;
};
```

**Объяснение решения**

```javascript
var tree2str = function(root) {
  // Используем рекурсивный метод

  // (1)
  if (!root) return "";

  // Значение каждого узла приводим к строке и храним в переменной result
  let result = String(root.val);

  // Для каждого узла запускаем функцию `tree2str` и если натыкаемся
  // на пустой элемент возвращаем пустую строку (1). А если узел
  // не пустой то конструируем строку по правилам расположеным ниже (2, 3 и 4)
  let left = tree2str(root.left);
  let right = tree2str(root.right);

  // (2) Если узел не пустой, но у него отсутствуют дочерние узлы, то возвращаем
  // просто сам узел
  if (left === "" && right === "") return result;

  // (3) Если узел не пустой, но у него есть только правый дочерний узел,
  // тогда возвращаем строку, где для левого узла пишем пустые скобки,
  // потому что это важно для восстановления дерева из строки, если
  // такое понадобится
  if (left === "") return `${result}()(${right})`;

  // (4) Если узел не пустой, но у него есть только левый дочерний узел,
  // тогда возвращем строку, где есть только значение узла и в скобках
  // значение его левого узла
  if (right === "") return `${result}(${left})`;

  // После прохода по всему дереву в переменной result для самого первого
  // вызова функции tree2str будет хранится значение самого корневого элемента,
  // а в переменных left и right полностью сконструированные по условию строки
  // для левой и правой ветки. Остается только составить итоговую строку, где
  // сначала идет значение корневого узла и затем в скобках левая и правая
  // ветки
  return `${result}(${left})(${right})`;
};
```



**Ссылка на задачу:** https://leetcode.com/problems/construct-string-from-binary-tree/